<!DOCTYPE html>
<html lang="pt-br">
<head>
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Código Projeto Adega</title>
    <style>
        body {
            background-color: #121212;
            color: #e0e0e0;
            font-family: Consolas, monospace;
            padding: 20px;
            font-size: 8px; 
        }
        h1 {
            color: violet;
            font-size: 14px;
        }
        pre {
            background-color: #1e1e1e;
            border-radius: 10px;
            padding: 15px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-break: break-word;
        }
        a {
            color: violet;
            text-decoration: none;
        }
    </style>
</head>
<body style="background-color:#111; color:#fff; font-family: monospace; white-space: pre-wrap;">
    <h1>
import customtkinter as ctk
import mysql.connector

# conexao = mysql.connector.connect(
#     host="localhost",
#     user="seu_usuario",
#     password="sua_senha",
#     database="adega"
# )

# cursor = conexao.cursor()
# print("Conectado ao MySQL com sucesso!")

        
def janela_login():
    ctk.set_appearance_mode('dark')
    tela_login = ctk.CTk()
    tela_login.geometry('400x400')
    tela_login.title('Login Adega 4 amigos')
    tela_login.iconbitmap("uvas2.ico") 
    frame1 = ctk.CTkFrame(tela_login, width=300, height=350)
    frame1.pack(pady=10, padx=10, anchor='center')
    frame1.pack_propagate(False)
    frame2 = ctk.CTkFrame(frame1, width=200, height=50)
    frame2.pack(pady=10, padx=10)
    frame2.pack_propagate(False)
    label1 = ctk.CTkLabel(frame2, text='Faça o login', font=('arial', 20, 'bold'))
    label1.pack(pady=10)
    label_usuario = ctk.CTkLabel(frame1, text='Usuário', font=('arial', 15, 'bold'))
    label_usuario.pack(pady=2)
    campo_usuario = ctk.CTkEntry(frame1, placeholder_text='Digite o usuário')
    campo_usuario.pack(pady=8)
    label_senha = ctk.CTkLabel(frame1, text='Senha', font=('arial', 15, 'bold'))
    label_senha.pack(pady=8)
    campo_senha = ctk.CTkEntry(frame1, placeholder_text='Digite a senha', show='*')
    campo_senha.pack(pady=2)
    btn_login = ctk.CTkButton(frame1, text='Login', width=200, height=30, corner_radius=10,
                          fg_color='purple', hover_color='violet', font=('roboto', 12, 'bold'),
                          command=lambda: validar_login(campo_usuario, campo_senha, resultado_login, tela_login))
    btn_login.pack(pady=35)
    resultado_login = ctk.CTkLabel(frame1, text='', font=('arial', 15, 'bold'))
    resultado_login.pack(pady=5)
    tela_login.mainloop()

def validar_login(campo_usuario, campo_senha, resultado_login, tela_login):
    usuario_login = campo_usuario.get()
    senha_login = campo_senha.get()
    if usuario_login == 'adega' and senha_login == '12345':
        tela_login.withdraw()
        janela_adega()
    else:
        resultado_login.configure(text='Usuário ou senha incorretos', text_color='red')
    
def janela_adega():
    tela_adega = ctk.CTk()
    ctk.set_appearance_mode('dark')
    tela_adega.geometry('800x600')
    tela_adega.title('Adega 4 amigos')
    tela_adega.iconbitmap("uvas2.ico") 
    frame_adega = ctk.CTkFrame(tela_adega, width=700, height=500, corner_radius=15)
    frame_adega.place(relx=0.5, rely=0.5, anchor='center')
    frame_adega.pack_propagate(False)
    titulo_bemvindo = ctk.CTkLabel(frame_adega, text='Bem vindo ao gerenciamento da Adega 4 amigos!', font=('Arial', 24, 'bold'))
    titulo_bemvindo.pack(pady=50, padx = 20)
    titulo2 = ctk.CTkLabel(frame_adega, text='O que deseja fazer?', font=('Arial', 20, 'bold'))
    titulo2.pack(pady=20, padx = 20)
    btn_inserir = ctk.CTkButton(frame_adega, text='Cadastrar vinho', corner_radius=10,
                          fg_color='purple', hover_color='violet', font=('roboto', 12, 'bold'),
                          width=250, height=40, command=lambda: inserir(conexao))
    btn_inserir.pack(pady=10, padx=10)
    btn_inserir.pack_propagate(False)
    btn_atualizar = ctk.CTkButton(frame_adega, text='Atualizar vinho', corner_radius=10,
                          fg_color='purple', hover_color='violet', font=('roboto', 12, 'bold'),
                          width=250, height=40, command=lambda: atualizar(conexao))
    btn_atualizar.pack(pady=10, padx=10)
    btn_atualizar.pack_propagate(False)
    btn_deletar = ctk.CTkButton(frame_adega, text='Deletar vinho',corner_radius=10,
                          fg_color='purple', hover_color='violet', font=('roboto', 12, 'bold'),
                          width=250, height=40, command=lambda: deletar(conexao))
    btn_deletar.pack(pady=10, padx=10)
    btn_deletar.pack_propagate(False)
    btn_listar = ctk.CTkButton(frame_adega, text='Listar vinhos', corner_radius=10,
                          fg_color='purple', hover_color='violet', font=('roboto', 12, 'bold'),
                          width=250, height=40, command=lambda: listar(conexao))
    btn_listar.pack(pady=10, padx=10)
    btn_listar.pack_propagate(False)
    tela_adega.mainloop()

def inserir(conexao):
    janela = ctk.CTkToplevel()
    janela.title("Inserir Vinho")
    janela.geometry("300x400")
    entry_nome = ctk.CTkEntry(janela, placeholder_text="Nome")
    entry_nome.pack(pady=10)
    entry_tipo = ctk.CTkEntry(janela, placeholder_text="Tipo")
    entry_tipo.pack(pady=10)
    entry_ano = ctk.CTkEntry(janela, placeholder_text="Ano (ex: 2020)")
    entry_ano.pack(pady=10)
    entry_quantidade = ctk.CTkEntry(janela, placeholder_text="Quantidade (ml)")
    entry_quantidade.pack(pady=10)
    entry_preco = ctk.CTkEntry(janela, placeholder_text="Preço (R$)")
    entry_preco.pack(pady=10)
    resultado = ctk.CTkLabel(janela, text="")
    resultado.pack(pady=10)

    def salvar():
        try:
            nome = entry_nome.get()
            tipo = entry_tipo.get()
            ano = int(entry_ano.get())
            quantidade = int(entry_quantidade.get())
            preco = float(entry_preco.get())
            safra = datetime.strptime(str(ano), "%Y").date()
            criar_vinho(conexao, nome, tipo, safra, quantidade, preco)
            resultado.configure(text="Vinho cadastrado com sucesso!", text_color="green")
        except Exception as e:
            resultado.configure(text=f"Erro: {e}", text_color="red")
    ctk.CTkButton(janela, text="Salvar", command=salvar).pack(pady=20)

def deletar():
    def buscar_vinhos():
        nome = entry_nome.get()
        cursor = conexao.cursor()
        cursor.execute("SELECT id, nome, tipo, ano FROM tbl_vinhos WHERE nome = ?", (nome,))
        resultados = cursor.fetchall()

        for widget in frame_resultados.winfo_children():
            widget.destroy()

        if not resultados:
            ctk.CTkLabel(frame_resultados, text="Nenhum vinho encontrado.").pack()
        elif len(resultados) == 1:
            vinho = resultados[0]
            confirmar_exclusao(vinho[0], f"{vinho[1]} ({vinho[2]}, {vinho[3]})")
        else:
            ctk.CTkLabel(frame_resultados, text="Vinhos encontrados:").pack(pady=5)
            for vinho in resultados:
                texto = f"ID: {vinho[0]} | Nome: {vinho[1]} | Tipo: {vinho[2]} | Ano: {vinho[3]}"
                btn = ctk.CTkButton(frame_resultados, text=texto, command=lambda id=vinho[0], desc=texto: confirmar_exclusao(id, desc))
                btn.pack(pady=2)

    def confirmar_exclusao(vinho_id, descricao):
        for widget in frame_resultados.winfo_children():
            widget.destroy()

        ctk.CTkLabel(frame_resultados, text=f"Tem certeza que deseja excluir:\n{descricao}").pack(pady=10)

        def excluir():
            try:
                cursor.execute("DELETE FROM tbl_vinhos WHERE id = ?", (vinho_id,))
                conexao.commit()
                ctk.CTkLabel(frame_resultados, text="Vinho deletado com sucesso!", text_color="green").pack()
            except Exception as e:
                ctk.CTkLabel(frame_resultados, text=f"Erro ao deletar: {e}", text_color="red").pack()

        ctk.CTkButton(frame_resultados, text="Confirmar exclusão", fg_color="red", command=excluir).pack(pady=5)
        ctk.CTkButton(frame_resultados, text="Cancelar", command=lambda: frame_resultados.destroy()).pack(pady=2)

    janela = ctk.CTkToplevel()
    janela.title("Deletar Vinho")
    janela.geometry("500x400")

    ctk.CTkLabel(janela, text="Digite o nome do vinho que deseja excluir:").pack(pady=10)
    entry_nome = ctk.CTkEntry(janela, width=300, placeholder_text="Ex: Cabernet")
    entry_nome.pack(pady=5)

    ctk.CTkButton(janela, text="Buscar", command=buscar_vinhos).pack(pady=10)

    frame_resultados = ctk.CTkFrame(janela)
    frame_resultados.pack(fill='both', expand=True, padx=10, pady=10)


def atualizar(conexao):
    tela_atualizar = ctk.CTkToplevel()
    tela_atualizar.title("Atualizar Vinho")
    tela_atualizar.geometry("800x600")
    ctk.CTkLabel(tela_atualizar, text="Nome atual do vinho:").pack(pady=10)
    entry_nome_atual = ctk.CTkEntry(tela_atualizar, placeholder_text="Digite o nome atual do vinho:")
    entry_nome_atual.pack()
    ctk.CTkLabel(tela_atualizar, text="Novo nome do vinho:").pack(pady=10)
    entry_nome_novo = ctk.CTkEntry(tela_atualizar, placeholder_text="Digite o novo nome do vinho:")
    entry_nome_novo.pack()

    def executar_atualizacao_local():
        nome_atual = entry_nome_atual.get()
        nome_novo = entry_nome_novo.get()
        cursor = conexao.cursor()
        try:
            cursor.execute("UPDATE tbl_vinhos SET nome_vinho = %s WHERE nome_vinho = %s", (nome_novo, nome_atual))
            conexao.commit()
            ctk.CTkLabel(tela_atualizar, text="Atualizado com sucesso!", text_color="green").pack(pady=10)
        except Exception as e:
            ctk.CTkLabel(tela_atualizar, text=f"Erro: {e}", text_color="red").pack(pady=10)

    ctk.CTkButton(tela_atualizar, text="Atualizar", command=executar_atualizacao_local).pack(pady=20)

def listar(conexao):
  cursor = conexao.cursor()
  cursor.execute("SELECT * FROM tbl_vinhos")
  tbl_vinhos = cursor.fetchall()
  for vinho in tbl_vinhos:
        print(vinho)

janela_login()

import os
if os.name == 'nt':
    os.system('cls')
       
# 1
# altura = float(input('Digite a altura: '))
# base = float(input('Digite a base: '))
# area = (base*altura)/2
# print(f'A área do triângulo é {area:.2f}')

# 2
# n1 = int(input('primeiro numero: '))
# n2 = int(input('segundo numero: '))
# soma = n1+n2
# print(f'a soma dos numeros é {soma}')

# 3

# celcius = float(input('digite a temperatura em celcius: '))
# conversao = celcius*1.8 + 32
# print(f'{celcius}, em farenheit, é {conversao:.2f}')

# 4

# idade = int(input('digite sua idade: '))
# dias = idade*365
# print(f'voce viveu aproximadamente {dias} dias, provavelmente mais do que isso')

# 5

# n = int(input('digite um numero: '))
# if n%2 == 0:
#     print(f'{n} é par')
# else:
#     print(f'{n} é ímpar')

# 6

# valor = 0.0
# desconto = 0.13
# compra = float(input('qual o valor da compra? '))
# valor = (compra*desconto - compra)*-1
# print(f'Será pago {valor} com 13% de desconto')

# 7

# n = int(input('Digite um número para fazer a tabuada do mesmo: '))
# for numero in range(1,11):
#     print(f'{n} x {numero} = {n*numero}')

# 8

# cont = 0
# maior_n = 0
# while cont < 3:
#     n = float(input('digite um número: '))
#     if n > maior_n:
#         maior_n = n
#     cont = cont+1
# print(f'o maior número foi {maior_n}')    

# 9

# for n in range(1,101):
#     print(n)
#     n=n+1

# 10

# n=100
# while n > 0:
#     print(n)
#     n=n-1

# 11

# cont = 0
# nomes=[]
# while cont < 5:
#     nome=input('Digite um nome: ')
#     nomes.append(nome)
#     cont=cont+1
# print(f'os nomes digitados foram {nomes}')
     
# 12

# lista=[]
# while True:
#     numero = int(input('digite um número: '))
#     if numero == 0:
#         break
#     else:
#         lista.append(numero)
# print(f'média dos numeros digitados: {sum(lista)/len(lista)}')

# 13

# while True:
#     senha = input('digite a senha:')
#     if senha == 'python123':
#         print('senha correta! continue!')
#         break
#     else:
#         print('senha incorreta, tente novamente')

# 14

# cont=0
# lista = []
# while cont < 5:
#     n = int(input('digite um numero: '))
#     lista.append(n)
#     cont = cont+1
# for numero in lista:
#     if numero > 0:
#         print(f'numeros positivos: {numero}')
# for numero in lista:
#     if numero == 0:
#         print(f'numeros "0" na lista: {numero}')
# for numero in lista:
#     if numero < 0:
#         print(f'numeros negativos: {numero}')

# 15

# n = int(input('digite um número: '))
# if n%2 != 0:
#     print(f'{n} é ímpar')
# else:
#     print(f'{n} é par')

# 16

# n = int(input('digite um numero: '))
# if n < 0:
#     print('não existe fatorial de numeros negativos')
# else:
#     fatorial = 1
#     for numero in range(1, n+1):
#         fatorial *= numero
#     print (fatorial)
   
# 17

# lista=[]
# while True:
#     numero = int(input('digite um número: '))
#     if numero == -1:
#         break
#     else:
#         lista.append(numero)
# print(f'maior numero: {max(lista)}',
#       f'\nmenor número: {min(lista)}')


# 18

# lista = []
# continuar = "S"
# while continuar == "S":
#     produto = input('digite o nome do produto: ')
#     preco = float(input('digite o preço do produto:'))
#     lista.append(preco)
#     continuar = input('Digite \"S\" para continuar: ').upper()
# print(f'total da compra: {sum(lista)}R$')  

# 19

# numeros = []
# for i in range(5):
#     num = float(input(f"Digite o {i+1}º número: "))
#     numeros.append(num)

# numeros = tuple(numeros)
# print(f'maior número da tupla: {max(numeros)}'
#       f'\nmenor numero da tupla: {min(numeros)}'
#       f'\nmédia dos numeros da tupla: {sum(numeros)/len(numeros)}')

# 20

# voto_1 = 0
# voto_2 = 0
# fim = ''
# while fim != 'FIM':
#     voto = int(input('Vote em apenas um dos canditados: \'1\' ou \'2\'? --> '))
#     if voto == 1:
#         print('você votou no candidato 1!')
#         voto_1 += 1
#     elif voto == 2:
#         print('você votou no candidato 2!')
#         voto_2 += 1
#     else:
#         print('Digite um candidato válido!')
#     fim = input('Digite \'FIM\' para encerrar a votação ou digite qualquer tecla para continuar -->').upper()   
# print(f'votos no canditado 1: {voto_1}'
#       f'\nvotos no candidato 2: {voto_2}') 

# 21

# def lista_numeros():
#     numeros = list(map(int, input('digite quantos numeros quiser para adicionar a lista, divida-os com espaço -->').split()))
#     print('Abaixo, os numeros pares da lista:')
#     for n in numeros:
#         if n %2 == 0:
#             print(n)
        
# 22

# continuar = 'S'
# while continuar == 'S':
#     menu = input('Digite o que deseja fazer:'
#                     '\nSomar - 1'
#                     '\nSubtrair - 2'
#                     '\nSair - 3 \n-->')
#     match menu:
#         case '1':
#             n1 = float(input('digite o primeiro número: '))
#             n2 = float(input('digite o segundo número: '))
#             total = n1+n2
#             print(f'resultado: {total}')
#         case '2':
#             n1 = float(input('digite o primeiro número: '))
#             n2 = float(input('digite o segundo número: '))
#             total = n1-n2
#             print(f'resultado: {total}')
#         case '3':
#             print('até a próxima!')
#             break
#         case _:
#             print('opção invalida!')
#     continuar = input('deseja continuar? S/N').upper()

# 23

# n = int(input('digite um número: '))
# if n%3 == 0:
#     print(f'{n} é múltiplo de 3')
# else:
#     print(f'{n} não é multiplo de 3')

# 24

# peso = float(input('digite seu peso: '))
# altura = float(input('digite sua altura: '))
# imc = peso/altura**2
# print(f'seu IMC é {imc:.2f}')

# 25

# cont = 0
# numeros = []
# while cont < 10:
#     n = int(input(f'digite o {cont+1}º número: '))
#     if n%2 == 0:
#         numeros.append(n)
#     cont += 1
# print(f'Números recebidos que são divisíveis por 2: {numeros}')

# 26

# def receber_string(string):
#     return string
# string = receber_string('uma frase de exemplo')
# print(string)

# 27

# cont = 0
# nomes = []
# while cont < 10:
#     nome = input(f'digite o {cont+1}º nome: ').upper().strip()
#     nomes.append(nome)
#     cont+=1
# pesquisa = input('digite um nome e veja se este nome esta na lista!\n>').upper()
# if pesquisa in nomes:
#     print(f'{pesquisa} está na lista de nomes!')
# else:
#     print(f'{pesquisa} não está na lista de nomes!')

# 28

# cont = 0
# idades = []
# while cont < 10:
#     idade = int(input(f'digite a {cont+1}ª idade: '))
#     if idade >= 18:
#         idades.append(idade)
#     cont+=1
# print(f'número de pessoas maiores de idade: {len(idades)}')

# 29

# cont = 0
# numeros = []
# while cont < 6:
#     n = int(input(f'digite o {cont+1}º número: '))
#     numeros.append(n)
#     cont += 1
# pesquisa = int(input('digite um número e veja se ele esta na lista!\n>'))
# if pesquisa in numeros:
#     print(f'{pesquisa} está na lista de números!')
# else:
#     print(f'{pesquisa} não está na lista de números!')

# 30

# nomes = input("Digite os nomes separados por espaço: ").split()
# print(f"\nLista atual: {nomes}")
# remover_nome = input("Digite o nome que deseja remover: ")
# if remover_nome in nomes:
#     nomes.remove(remover_nome)
#     print(f"'{remover_nome}' foi removido com sucesso.")
# else:
#     print(f"'{remover_nome}' não está na lista.")
# print(f"Lista de nomes atualizada: {nomes}")

# 31

saldo = 0
extrato = []
limite_saque = 3
saques_realizados = 0

while True:
    opcao = input('Escolha uma opção:'
                  '1 - Depósito\n'
                  '2 - Saque\n'
                  '3 - Extrato\n'
                  '4 - Sair\n>')
    match opcao:
        case '1':
            valor = float(input('Digite o valor para depósito: R$ '))
            if valor > 0:
                saldo += valor
                extrato.append(f'Depósito: R$ {valor:.2f}')
                print('Depósito realizado com sucesso!')
            else:
                print('Valor inválido!')
        case '2':
            if saques_realizados >= limite_saque:
                print('Limite de saques diários atingido.')
                continue            
            valor = float(input('Digite o valor para saque: R$ '))
            if valor <= 0:
                print('Valor inválido!')
            elif valor > saldo:
                print('Saldo insuficiente!')
            else:
                saldo -= valor
                extrato.append(f'Saque: R$ {valor:.2f}')
                saques_realizados += 1
                print('Saque realizado!')
        case '3':
            print('\n*EXTRATO*')
            if not extrato:
                print('Nenhuma movimentação!')
            else:
                for item in extrato:
                    print(item)
            print(f'Saldo atual: R$ {saldo:.2f}')
        case '4':
            print('Até mais!')
            break
        case _:
            print('Opção inválida!')

# 32



# 33



# 34



# 35



# 36



# 37



# 38



# 39



# 40
                

        </h1>
</body>
</html>
